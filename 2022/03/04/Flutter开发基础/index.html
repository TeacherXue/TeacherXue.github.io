<!doctype html>
<html class="theme-next use-motion theme-next-mala">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>




<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.5.1"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.1" />


<meta name="description" content="Flutter开发一 、 环境搭建 所需工具  flutter 官方SDK release Flutter SDK releases | Flutter  Android studio 、vs code  fvm版本管理工具（可选） 1234//win直接配置到环境编辑即可，mac配置到bash_profile或者zshexport PUB_HOSTED_URL=https://pub.flutt">
<meta property="og:type" content="article">
<meta property="og:title" content="薛老师の小站">
<meta property="og:url" content="http://yoursite.com/2022/03/04/Flutter开发基础/index.html">
<meta property="og:site_name" content="薛老师の小站">
<meta property="og:description" content="Flutter开发一 、 环境搭建 所需工具  flutter 官方SDK release Flutter SDK releases | Flutter  Android studio 、vs code  fvm版本管理工具（可选） 1234//win直接配置到环境编辑即可，mac配置到bash_profile或者zshexport PUB_HOSTED_URL=https://pub.flutt">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c0832d50f7~tplv-t2oaga2asx-watermark.awebp">
<meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c083028401~tplv-t2oaga2asx-watermark.awebp">
<meta property="og:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c0a6e96c59~tplv-t2oaga2asx-watermark.awebp">
<meta property="og:updated_time" content="2022-03-04T12:30:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="薛老师の小站">
<meta name="twitter:description" content="Flutter开发一 、 环境搭建 所需工具  flutter 官方SDK release Flutter SDK releases | Flutter  Android studio 、vs code  fvm版本管理工具（可选） 1234//win直接配置到环境编辑即可，mac配置到bash_profile或者zshexport PUB_HOSTED_URL=https://pub.flutt">
<meta name="twitter:image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c0832d50f7~tplv-t2oaga2asx-watermark.awebp">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mala',
    sidebar: 'always'
  };
</script>

  <title>  | 薛老师の小站 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-next-logo"></i>
      </span>
      <span class="site-title">iOS & 福利 & Tech & Anything</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-next-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            <i class="menu-item-icon icon-next-categories"></i> <br />
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-next-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-next-tags"></i> <br />
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-next-about"></i> <br />
            关于
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content"> 

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2022-03-04T21:28:59+08:00" content="2022-03-04">
            2022-03-04
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><h1 id="Flutter开发"><a href="#Flutter开发" class="headerlink" title="Flutter开发"></a>Flutter开发</h1><h3 id="一-、-环境搭建"><a href="#一-、-环境搭建" class="headerlink" title="一 、 环境搭建"></a>一 、 环境搭建</h3><ol>
<li><p>所需工具</p>
<ul>
<li><p>flutter 官方SDK release <a href="https://docs.flutter.dev/development/tools/sdk/releases" target="_blank" rel="noopener">Flutter SDK releases | Flutter</a></p>
</li>
<li><p>Android studio 、vs code</p>
</li>
<li><p>fvm版本管理工具（可选）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//win直接配置到环境编辑即可，mac配置到bash_profile或者zsh</span><br><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn //国内用户需要设置</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn //国内用户需要设置</span><br><span class="line">export PATH=/Users/用户名/flutter/flutter/bin:$PATH</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>常用开发插件</p>
<ul>
<li><p>Dart</p>
</li>
<li><p>Flutter</p>
</li>
<li><p>Getx</p>
</li>
</ul>
</li>
</ol>
<h3 id="二-、-Dart语言下的Flutter"><a href="#二-、-Dart语言下的Flutter" class="headerlink" title="二 、 Dart语言下的Flutter"></a>二 、 Dart语言下的Flutter</h3><pre><code>在跨平台开领域被 JS 一统天下，Dart 语言的出现无疑是一股清流。作为后来者，Dart语言有着不少 Java、Kotlin 和 JS 的影子，所以对于 Android 原生开发者、前端开发者而言无疑是非常友好。

官方也提供了包括 iOS 、React Native 等开发者迁移到 Flutter 上的文档，所以请不要担心，Dart 语言不会是你掌握 Flutter 的门槛，甚至作为开发者，就算你不懂 Dart 也可以看着代码摸索。
</code></pre><ol>
<li><p>基本类型</p>
<ul>
<li><p>var 可以定义变量，如 <code>var tag = &quot;666&quot;</code> ，这和 JS 、 Kotlin 等语言类似，同时 Dart 也算半个动态类型语言，同时支持闭包。</p>
</li>
<li><p><code>Dart</code> 属于是<strong>强类型语言</strong> ，但可以用 <code>var</code> 来声明变量，<code>Dart</code> 会<strong>自推导出数据类型</strong>，所以 <code>var</code> 实际上是编译期的“语法糖”。<strong><code>dynamic</code> 表示动态类型</strong>， 被编译后，实际是一个 <code>object</code> 类型，在编译期间不进行任何的类型检查，而是在运行期进行类型检查。</p>
</li>
<li><p>Dart 中 number 类型分为 <code>int</code> 和 <code>double</code> ，其中 java 中的 long 对应的也是 Dart 中的 int 类型，Dart 中没有 float 类型。</p>
</li>
<li><p>Dart 下只有 bool 型可以用于 if 等判断，不同于 JS 这种使用方式是不合法的 <code>var g = &quot;null&quot;; if(g){}</code> 。</p>
</li>
<li><p>Dart 中，switch 支持 String 类型。 </p>
</li>
</ul>
</li>
<li><p>变量</p>
<ul>
<li><p>Dart 不需要给变量设置 <code>setter getter</code> 方法， 这和 kotlin 等语言类似。Dart 中所有的基础类型、类等都继承 Object ，默认值是 NULL， 自带 getter 和 setter ，而如果是 final 或者 const 的话，那么它只有一个 getter 方法。</p>
</li>
<li><p>Dart 中 final 和 const 表示常量，比如 <code>final name = &#39;GSY&#39;; const value= 1000000;</code> 同时 <code>static const</code> 组合代表了静态常量，其中 const 的值在编译期确定，final 的值要到运行时才确定。</p>
</li>
<li><p>Dart 下的数值，在作为字符串使用时，是需要显式指定的。比如：<code>int i = 0; print(&quot;aaaa&quot; + i);</code> 这样并不支持，需要 <code>print(&quot;aaaa&quot; + i.toString());</code> 这样使用，这和 Java 与 JS 存在差异，<strong>所以在使用动态类型时，需要注意不要把 number 类型当做 String 使用。</strong></p>
</li>
<li><p>Dart 中数组等于列表，所以 <code>var list = [];</code> 和 <code>List list =  List()</code> 可以简单看做一样。</p>
</li>
</ul>
</li>
<li><p>方法</p>
<ul>
<li><p>Dart 下 <code>??</code> 、<code>??=</code> 属于操作符，如: <code>AA ?? &quot;999&quot;</code> 表示如果 AA 为空，返回999；<code>AA ??= &quot;999&quot;</code> 表示如果 AA 为空，给 AA 设置成 999。</p>
</li>
<li><p>Dart 方法可以设置 <em>参数默认值</em> 和 <em>指定名称</em> 。比如： <code>getDetail(Sting userName, reposName, {branch = &quot;master&quot;}){}</code> 方法，这里 branch 不设置的话，默认是 “master” 。<em>参数类型</em> 可以指定或者不指定。调用效果： <code>getRepositoryDetailDao(“aaa&quot;, &quot;bbbb&quot;, branch: &quot;dev&quot;);</code></p>
</li>
<li><p>Dart 不像 Java ，没有关键词 public 、private 等修饰符，<code>_</code>下横向直接代表 private ，但是有 <code>@protected</code> 注解。</p>
</li>
<li><p>Dart 中多构造函数，可以通过如下代码实现的。默认构造方法只能有一个，而通过<code>Model.empty()</code> 方法可以创建一个空参数的类，其实方法名称随你喜欢，而变量初始化值时，只需要通过 <code>this.name</code> 在构造方法中指定即可：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModelA</span> </span>&#123;</span><br><span class="line"> <span class="built_in">String</span> name;</span><br><span class="line"> <span class="built_in">String</span> tag;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//默认构造方法，赋值给name和tag</span></span><br><span class="line"> ModelA(<span class="keyword">this</span>.name, <span class="keyword">this</span>.tag);</span><br><span class="line"></span><br><span class="line"> <span class="comment">//返回一个空的ModelA</span></span><br><span class="line"> ModelA.empty();</span><br><span class="line"></span><br><span class="line"> <span class="comment">//返回一个设置了name的ModelA</span></span><br><span class="line"> ModelA.forName(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Flutter</p>
<p>Flutter 中支持 <code>async</code>/<code>await</code> ，<strong>如下代码所示</strong>， <code>async</code>/<code>await</code> 其实只是语法糖，最终会编译为 Flutter 中返回 <code>Future</code> 对象，之后通过 <code>then</code> 可以执行下一步。如果返回的还是 <code>Future</code> 便可以 <code>then().then.()</code> 的流式操作了 。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///模拟等待两秒，返回OK</span></span><br><span class="line">request() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> Future.delayed(<span class="built_in">Duration</span>(seconds: <span class="number">1</span>));</span><br><span class="line">  <span class="keyword">return</span> <span class="string">"ok!"</span>;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="comment">///得到"ok!"后，将"ok!"修改为"ok from request"</span></span><br><span class="line">doSomeThing() <span class="keyword">async</span> &#123;</span><br><span class="line">  <span class="built_in">String</span> data = <span class="keyword">await</span> request();</span><br><span class="line">  data = <span class="string">"ok from request"</span>;</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;</span><br><span class="line">   </span><br><span class="line"><span class="comment">///打印结果</span></span><br><span class="line">renderSome() &#123;</span><br><span class="line">  doSomeThing().then((value) &#123;</span><br><span class="line">    <span class="built_in">print</span>(value);</span><br><span class="line">    <span class="comment">///输出ok from request</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li><p>Flutter 中 <code>setState</code> 很有 React Native 的既视感，Flutter 中也是通过 State 跨帧实现管理数据状态的。</p>
</li>
<li><p>Flutter 中一切皆 Widget 呈现，通过 <code>build</code>方法返回 Widget。</p>
</li>
</ul>
<h3 id="三-、-Flutter-Widget"><a href="#三-、-Flutter-Widget" class="headerlink" title="三 、 Flutter Widget"></a>三 、 Flutter Widget</h3><pre><code>在 Flutter 中一切的显示都是 Widget ，Widget 是一切的基础，利用响应式模式进行渲染。

我们可以通过修改数据，再用`setState` 设置数据，Flutter 会自动通过绑定的数据更新 Widget ， **所以你需要做的就是实现 Widget 界面，并且和数据绑定起来**。

Widget 分为 *有状态* 和 *无状态* 两种，在 Flutter 中每个页面都是一帧，无状态就是保持在那一帧，而有状态的 Widget 当数据更新时，其实是创建了新的 Widget，只是 State 实现了跨帧的数据同步保存。
</code></pre><ol>
<li><p>无状态StatelessWidget</p>
<pre><code>继承 StatelessWidget，通过 `build` 方法返回一个布局好的控件.

Widget 和 Widget 之间通过 `child:` 进行嵌套。其中有的 Widget 只能有一个 child，比如下方的 `Container` ；有的 Widget 可以多个 child ，也就是`children`，比如` Column 布局，下方代码便是 Container Widget 嵌套了 Text Widget。
</code></pre></li>
</ol>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DEMOWidget</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"> <span class="keyword">final</span> <span class="built_in">String</span> text;</span><br><span class="line"></span><br><span class="line"><span class="comment">//数据可以通过构造方法传递进来</span></span><br><span class="line"> DEMOWidget(<span class="keyword">this</span>.text);</span><br><span class="line"></span><br><span class="line"><span class="meta">@override</span></span><br><span class="line"> Widget build(BuildContext context) &#123;</span><br><span class="line"> <span class="comment">//这里返回你需要的控件</span></span><br><span class="line"> <span class="comment">//这里末尾有没有的逗号，对于格式化代码而已是不一样的。</span></span><br><span class="line"> <span class="keyword">return</span> Container(</span><br><span class="line"> <span class="comment">//白色背景</span></span><br><span class="line"> color: Colors.white,</span><br><span class="line"> <span class="comment">//Dart语法中，?? 表示如果text为空，就返回尾号后的内容。</span></span><br><span class="line"> child: Text(text ?? <span class="string">"这就是无状态DMEO"</span>),</span><br><span class="line"> );</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>有状态StatefulWidget</p>
<pre><code>有状态的widget的简单实现，你需要创建管理的是主要是 `State` ， 通过 State 的 `build` 方法去构建控件。在 State 中，你可以动态改变数据，在 `setState` 之后，改变的数据会触发 Widget 重新构建刷新，而下方代码中，是通过延两秒之后，让文本显示为 *&quot;这就变了数值&quot;*。
</code></pre></li>
</ol>
<p>如下代码还可以看出，State 中主要的声明周期有 ：</p>
<ul>
<li><strong>initState</strong> ：初始化，理论上只有初始化一次，第二篇中会说特殊情况下。</li>
<li><strong>didChangeDependencies</strong>：在 initState 之后调用，此时可以获取其他 State 。</li>
<li><p><strong>dispose</strong> ：销毁，只会调用一次。</p>
<p>  你的关注点只要在：创建你的 <code>StatelessWidget</code> 或者 <code>StatefulWidget</code> 而已。<strong>你需要的就是在 <code>build</code> 中堆积你的布局，然后把数据添加到 Widget 中，最后通过 <code>setState</code> 改变数据，从而实现画面变化。</strong></p>
</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:async'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoStateWidget</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> text;</span><br><span class="line"></span><br><span class="line">  <span class="comment">////通过构造方法传值</span></span><br><span class="line">  DemoStateWidget(<span class="keyword">this</span>.text);</span><br><span class="line"></span><br><span class="line">  <span class="comment">///主要是负责创建state</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _DemoStateWidgetState createState() =&gt; _DemoStateWidgetState(text);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_DemoStateWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">DemoStateWidget</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> text;</span><br><span class="line"></span><br><span class="line">  _DemoStateWidgetState(<span class="keyword">this</span>.text);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">///初始化，这个函数在生命周期中只调用一次</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="comment">///定时1秒</span></span><br><span class="line">     Future.delayed(<span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>), () &#123;</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        text = <span class="string">"这就变了数值"</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    <span class="comment">///销毁</span></span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> didChangeDependencies() &#123;</span><br><span class="line">    <span class="comment">///在initState之后调 Called when a dependency of this [State] object changes.</span></span><br><span class="line">    <span class="keyword">super</span>.didChangeDependencies();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      child: Text(text ?? <span class="string">"这就是有状态DMEO"</span>),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="四-、-Flutter布局"><a href="#四-、-Flutter布局" class="headerlink" title="四 、 Flutter布局"></a>四 、 Flutter布局</h3><p>Flutter 中拥有需要将近30种内置的 <a href="https://link.juejin.cn?target=https%3A%2F%2Fflutterchina.club%2Fwidgets%2Flayout" title="https://flutterchina.club/widgets/layout" target="_blank" rel="noopener">布局Widget</a>，其中常用有 <em>Container、Padding、Center、Flex、Stack、Row、Column、ListView</em> 等，下面简单讲解它们的特性和使用。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>作用特点</th>
</tr>
</thead>
<tbody>
<tr>
<td>Container</td>
<td>只有一个子 Widget。默认充满，包含了padding、margin、color、宽高、decoration 等配置。</td>
</tr>
<tr>
<td>Padding</td>
<td>只有一个子 Widget。只用于设置Padding，常用于嵌套child，给child设置padding。</td>
</tr>
<tr>
<td>Center</td>
<td>只有一个子 Widget。只用于居中显示，常用于嵌套child，给child设置居中。</td>
</tr>
<tr>
<td>Stack</td>
<td>可以有多个子 Widget。 子Widget堆叠在一起。</td>
</tr>
<tr>
<td>Column</td>
<td>可以有多个子 Widget。垂直布局。</td>
</tr>
<tr>
<td>Row</td>
<td>可以有多个子 Widget。水平布局。</td>
</tr>
<tr>
<td>Expanded</td>
<td>只有一个子 Widget。在 Column 和 Row 中充满。</td>
</tr>
<tr>
<td>ListView</td>
<td>可以有多个子 Widget。自己意会吧。</td>
</tr>
</tbody>
</table>
<ul>
<li>Container ：最常用的默认控件，但是实际上它是由多个内置控件组成的模版，只能包含一个<code>child</code>，支持 <em>padding,margin,color,宽高,decoration（一般配置边框和阴影）等配置</em>，在 Flutter 中，不是所有的控件都有 <em>宽高、padding、margin、color</em> 等属性，所以才会有 Padding、Center 等 Widget 的存在。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">       <span class="comment">///四周10大小的maring</span></span><br><span class="line">       margin: EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">       height: <span class="number">120.0</span>,</span><br><span class="line">       width: <span class="number">500.0</span>,</span><br><span class="line">       <span class="comment">///透明黑色遮罩</span></span><br><span class="line">       decoration: newxDecoration(</span><br><span class="line">           <span class="comment">///弧度为4.0</span></span><br><span class="line">           borderRadius: BorderRadius.all(Radius.circular(<span class="number">4.0</span>)),</span><br><span class="line">           <span class="comment">///设置了decoration的color，就不能设置Container的color。</span></span><br><span class="line">           color: Colors.black,</span><br><span class="line">           <span class="comment">///边框</span></span><br><span class="line">           border: <span class="keyword">new</span> Bor.all(color: Color(GSYColors.subTextColor), width: <span class="number">0.3</span>)),</span><br><span class="line">       child:<span class="keyword">new</span> Text(<span class="number">6666</span><span class="string">"));</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Column、Row 绝对是必备布局， 横竖布局也是日常中最常见的场景。如下方所示，它们常用的有这些属性配置：主轴方向是 start 或 center 等；副轴方向方向是 start 或 center 等；mainAxisSize 是充满最大尺寸，或者只根据子 Widget 显示最小尺寸。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//主轴方向，Column的竖向、Row我的横向</span></span><br><span class="line">mainAxisAlignment: MainAxisAlignment.start, </span><br><span class="line"><span class="comment">//默认是最大充满、还是根据child显示最小大小</span></span><br><span class="line">mainAxisSize: MainAxisSize.max,</span><br><span class="line"><span class="comment">//副轴方向，Column的横向、Row我的竖向</span></span><br><span class="line">crossAxisAlignment :CrossAxisAlignment.center,</span><br></pre></td></tr></table></figure>
<ul>
<li>Expanded 在 Column 和 Row 中代表着平均充满的作用，当有两个存在的时候默认均分充满。同时页可以设置 <code>flex</code> 属性决定比例。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> Column(</span><br><span class="line"> <span class="comment">///主轴居中,即是竖直向居中</span></span><br><span class="line"> mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line"> <span class="comment">///大小按照最小显示</span></span><br><span class="line"> mainAxisSize : MainAxisSize.min,</span><br><span class="line"> <span class="comment">///横向也居中</span></span><br><span class="line">  crossAxisAlignment : CrossAxisAlignment.center,</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    <span class="comment">///flex默认为1</span></span><br><span class="line">    newpanded(child: <span class="keyword">new</span> Te<span class="string">"1111"</span>), flex: <span class="number">2</span>,),</span><br><span class="line">    <span class="keyword">new</span> Expan(child: <span class="keyword">new</span> Text(<span class="string">"22)),</span></span><br><span class="line"><span class="string">  ],</span></span><br><span class="line"><span class="string">);</span></span><br></pre></td></tr></table></figure>
<p>接下来我们来写一个复杂一些的控件，首先我们创建一个私有方法<code>_getBottomItem</code>，返回一个 <code>Expanded Widget</code>，因为后面我们需要将这个方法返回的 Widget 在 Row 下平均充满。</p>
<p>如代码中注释，布局内主要是现实一个居中的Icon图标和文本，中间间隔5.0的 padding：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///返回一个居中带图标和文本的Item</span></span><br><span class="line">  _getBottomItem(IconData icon, <span class="built_in">String</span> text) &#123;</span><br><span class="line">    <span class="comment">///充满 Row 横向的布局</span></span><br><span class="line">    <span class="keyword">return</span>  Expanded(</span><br><span class="line">      flex: <span class="number">1</span>,</span><br><span class="line">      <span class="comment">///居中显示</span></span><br><span class="line">      child: newnter(</span><br><span class="line">        <span class="comment">///横向布局</span></span><br><span class="line">        child: <span class="keyword">new</span> Ro          <span class="comment">///主轴居中,即是横向居中</span></span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">          <span class="comment">///大小按照最大充满</span></span><br><span class="line">          mainAxisSize : MainAxisSize.max,</span><br><span class="line">          <span class="comment">///竖向也居中</span></span><br><span class="line">          crossAxisAlignment : CrossAxisAlignment.center,</span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            <span class="comment">///一个图标，大小16.0，灰色</span></span><br><span class="line">            <span class="keyword">new</span> Icon(            icon,</span><br><span class="line">              size: <span class="number">16.0</span>,</span><br><span class="line">              color: Colors.grey,</span><br><span class="line">            ),</span><br><span class="line">            <span class="comment">///间隔</span></span><br><span class="line">            <span class="keyword">new</span> Padding(ding: <span class="keyword">new</span> EdgeInsets.y(left:<span class="number">5.0</span>)),</span><br><span class="line">            <span class="comment">///显示文本</span></span><br><span class="line">            <span class="keyword">new</span> Text(</span><br><span class="line">           text,</span><br><span class="line">              <span class="comment">//设置字体样式：颜色灰色，字体大小14.0</span></span><br><span class="line">              style: <span class="keyword">new</span> TextStyle(color: ors.grey, fontSize: <span class="number">14.0</span>),</span><br><span class="line">              <span class="comment">//超过的省略为...显示</span></span><br><span class="line">              overflow: TextOverflow.ellipsis,</span><br><span class="line">              <span class="comment">//最长一行</span></span><br><span class="line">              maxLines: <span class="number">1</span>,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c0832d50f7~tplv-t2oaga2asx-watermark.awebp" alt="item效果"></p>
<p>接着我们把上方的方法，放到新的布局里，如下流程和代码：</p>
<ul>
<li>首先是 <code>Container</code>包含了<code>Card</code>，用于快速简单的实现圆角和阴影。</li>
<li>然后接下来包含了<code>FlatButton</code>实现了点击，通过Padding实现了边距。</li>
<li>接着通过<code>Column</code>垂直包含了两个子Widget，一个是<code>Container</code>、一个是<code>Row</code>。</li>
<li>Row 内使用的就是<code>_getBottomItem</code>方法返回的 Widget ，效果如下图。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span>  Container(</span><br><span class="line">      <span class="comment">///卡片包装</span></span><br><span class="line">      child: newrd(</span><br><span class="line">           <span class="comment">///增加点击效果</span></span><br><span class="line">          child: <span class="keyword">new</span> Flutton(</span><br><span class="line">              onPressed: ()&#123;<span class="built_in">print</span>(<span class="string">"点击了哦"</span>);&#125;,</span><br><span class="line">              child: <span class="keyword">new</span> Paddi</span><br><span class="line">                padding: <span class="keyword">new</span> EdgeInseonly(left: <span class="number">0.0</span>, top: <span class="number">10.0</span>, right: <span class="number">10.0</span>, bottom: <span class="number">10.0</span>),</span><br><span class="line">                child: <span class="keyword">new</span> Column(</span><br><span class="line">               mainAxisSize: MainAxisSize.min,</span><br><span class="line">                  children: &lt;Widget&gt;[</span><br><span class="line">                    <span class="comment">///文本描述</span></span><br><span class="line">                    <span class="keyword">new</span> Container(</span><br><span class="line">                     child: <span class="keyword">new</span> Text(</span><br><span class="line">                       <span class="string">"这是一点描述"</span>,</span><br><span class="line">                          style: TextStyle(</span><br><span class="line">                            color: Color(GSYColors.subTextColor),</span><br><span class="line">                            fontSize: <span class="number">14.0</span>,</span><br><span class="line">                          ),</span><br><span class="line">                          <span class="comment">///最长三行，超过 ... 显示</span></span><br><span class="line">                          maxLines: <span class="number">3</span>,</span><br><span class="line">                          overflow: TextOverflow.ellipsis,</span><br><span class="line">                        ),</span><br><span class="line">                        margin: <span class="keyword">new</span> EdgeInsets.only(top:<span class="number">0</span>, bottom: <span class="number">2.0</span>),</span><br><span class="line">                        alignment: Alignment.topLeft),</span><br><span class="line">                    <span class="keyword">new</span> Padding(padding: EdgeIns.all(<span class="number">10.0</span>)),</span><br><span class="line"></span><br><span class="line">                    <span class="comment">///三个平均分配的横向图标文字</span></span><br><span class="line">                    <span class="keyword">new</span> Row(</span><br><span class="line">                     ossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">                      children: &lt;Widget&gt;[</span><br><span class="line">                        _getBottomItem(Icons.star, <span class="string">"1000"</span>),</span><br><span class="line">                        _getBottomItem(Icons.link, <span class="string">"1000"</span>),</span><br><span class="line">                        _getBottomItem(Icons.subject, <span class="string">"1000"</span>),</span><br><span class="line">                      ],</span><br><span class="line">                    ),</span><br><span class="line">                  ],</span><br><span class="line">                ),</span><br><span class="line">              ))),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c083028401~tplv-t2oaga2asx-watermark.awebp" alt="完整Item"></p>
<p>Flutter 中，你的布局很多时候就是这么一层一层嵌套出来的，当然还有其他更高级的布局方式，这里就先不展开了。</p>
<h3 id="五-、Flutter-页面"><a href="#五-、Flutter-页面" class="headerlink" title="五 、Flutter 页面"></a>五 、Flutter 页面</h3><p>Flutter 中除了布局的 Widget，还有交互显示的 Widget 和完整页面呈现的Widget，其中常见的有 <em>MaterialApp、Scaffold、Appbar、Text、Image、FlatButton</em>等，下面简单介绍这些 Wdiget，并完成一个页面。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>作用特点</th>
</tr>
</thead>
<tbody>
<tr>
<td>MaterialApp</td>
<td>一般作为APP顶层的主页入口，可配置主题，多语言，路由等</td>
</tr>
<tr>
<td>Scaffold</td>
<td>一般用户页面的承载Widget，包含appbar、snackbar、drawer等material design的设定。</td>
</tr>
<tr>
<td>Appbar</td>
<td>一般用于Scaffold的appbar ，内有标题，二级页面返回按键等，当然不止这些，tabbar等也会需要它 。</td>
</tr>
<tr>
<td>Text</td>
<td>显示文本，几乎都会用到，主要是通过style设置TextStyle来设置字体样式等。</td>
</tr>
<tr>
<td>RichText</td>
<td>富文本，通过设置<code>TextSpan</code>，可以拼接出富文本场景。</td>
</tr>
<tr>
<td>TextField</td>
<td>文本输入框 ：<code>ew TextField(controller: //文本控制器, obscureText: &quot;hint文本&quot;);</code></td>
</tr>
<tr>
<td>Image</td>
<td>图片加载: <code>FadeInImage.assetNetwork( placeholder: &quot;预览图&quot;, fit: BoxFit.fitWidth, image: &quot;url&quot;);</code></td>
</tr>
</tbody>
</table>
<p>那么再次直插主题实现一个简单完整的页面试试。如下方代码：</p>
<ul>
<li>首先我们创建一个StatefulWidget：<code>DemoPage</code>。</li>
<li>然后在<code>_DemoPageState</code> 中，通过<code>build</code>创建了一个<code>Scaffold</code>。</li>
<li>Scaffold内包含了一个<code>AppBar</code>和一个<code>ListView</code>。</li>
<li>AppBar类似标题了区域，其中设置了 <code>title</code>为 Text Widget。</li>
<li>body是<code>ListView</code>,返回了20个之前我们创建过的 DemoItem Widget。</li>
</ul>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:gsy_github_app_flutter/test/DemoItem.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _DemoPageState createState() =&gt; _DemoPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_DemoPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">DemoPage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">///一个页面的开始</span></span><br><span class="line">    <span class="comment">///如果是新页面，会自带返回按键</span></span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      <span class="comment">///背景样式</span></span><br><span class="line">      backgroundColor: Colors.blue,</span><br><span class="line">      <span class="comment">///标题栏，当然不仅仅是标题栏</span></span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        <span class="comment">///这个title是一个Widget</span></span><br><span class="line">        title:Text(<span class="string">"Title"</span>),</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">///正式的页面开始</span></span><br><span class="line">      <span class="comment">///一个ListView，20个Item</span></span><br><span class="line">      body: ListView.builder(</span><br><span class="line">        itemBuilder: (context, index) &#123;</span><br><span class="line">          <span class="keyword">return</span> DemoItem();</span><br><span class="line">        &#125;,</span><br><span class="line">        itemCount: <span class="number">20</span>,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后我们创建一个StatelessWidget作为入口文件，实现一个<code>MaterialApp</code>将上方的<code>DemoPage</code>设置为home页面，通过<code>main</code>入口执行页面。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:gsy_github_app_flutter/test/DemoPage.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp( DemoApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DemoApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  DemoApp(&#123;Key key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> newterialApp(home: DemoPage());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/18/16e7d9c0a6e96c59~tplv-t2oaga2asx-watermark.awebp" alt="最终显示"></p>
</span>
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/04/22/java知识点/" rel="next">java知识点</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div>
      
        <style type="text/css">

    .donate_bar {
        text-align: center;
        margin-top : 5%;
    }

    .donate_bar.hidden {
        display:none;
    }
/*
    .donate_bar a.btn_donate {
        display: inline-block;
        width: 82px;
        height: 82px;
        margin-left:auto;
        margin-right:auto;

        background: url("http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif") no-repeat;
        _background: url("http://img.t.sinajs.cn/t5/style/images/apps_PRF/e_media/btn_reward.gif") no-repeat; 

        -webkit-transition: background 0s;
        -moz-transition: background 0s;
        -o-transition: background 0s;
        -ms-transition: background 0s;
        transition: background 0s;
    }
*/
    .donate_bar a.btn_donate:hover { 
        // background-position: 0px -82px;
        color: #87daff;
    }

    .donate_bar .donate_txt {
        display: block;
        color: #9d9d9d;
        font: 14px/2 "Microsoft Yahei";
    }

    .bold { 
        font-weight: bold; 
    }

    .post-donate a {
        border-bottom: 0px;
    }

    #donate_guide table {
        border: none;
    }

    #donate_guide td {
        border-bottom: none;
        border-right: none;
        // background: #333333;
        valign: top;
    }

</style>



    

    <div class ="post-donate">
        <div id="donate_board" class="donate_bar center">
              <a id="btn_donate" class="btn_donate" href="javascript:;" title="打赏">赏</a>
              <span id="donate_txt" class="donate_txt">
                   
                        仅仅是一个功能
                   
              </span>
            <br>
        </div>  
  
        <div id="donate_guide" class="donate_bar center hidden">
            <!--
            
                <a href="https://teacherxue.github.io/images/aliPay.jpg" title="支付宝打赏" class="fancybox" rel="article0" 
                    style="float:left;margin-left:25%;margin-right:10px;">
                    <img src="https://teacherxue.github.io/images/aliPay.jpg" title="" height="164px" width="164px">
                </a> 
              

            
                <a href="https://teacherxue.github.io/images/weixinPay.jpg" title="微信打赏" class="fancybox" rel="article0"
                    style="margin-right:30%">
                    <img src="https://teacherxue.github.io/images/weixinPay.jpg" title="" height="164px" width="164px">
                </a>
            
            -->
            <table>
                <tr>
                    <td>
                        
                            <a href="https://teacherxue.github.io/images/aliPay.jpg" title="支付宝打赏" class="fancybox" rel="article0" 
                                style="float:left;margin-left:25%;margin-right:10px;">
                                <img src="https://teacherxue.github.io/images/aliPay.jpg" title="" height="164px" width="164px">
                            </a> 
                         
                    </td>
                    <td>
                        
                            <a href="https://teacherxue.github.io/images/weixinPay.jpg" title="微信打赏" class="fancybox" rel="article0"
                                style="margin-right:30%">
                                <img src="https://teacherxue.github.io/images/weixinPay.jpg" title="" height="164px" width="164px">
                            </a>
                        
                    </td>
                </tr>
            </table>

        </div>

        <script type="text/javascript">
            document.getElementById('btn_donate').onclick = function() {
                $('#donate_board').addClass('hidden');
                // $('#donate_guide').removeClass('hidden');
                $('#donate_guide').show(2000);
            }

        </script>
    </div>

    


      
    </div>

    <div class="post-spread">
      
        <div class="bdsharebuttonbox">
	<a href="#" class="bds_more" data-cmd="more"></a>
	<a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
	<a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博"></a>
	<a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

      
    </div>
  </div>

 </div>

        

        
          <div class="comments" id="comments">
            
          </div>
        
      </div>

      
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/default_avatar.jpg" alt="TeacherXue" itemprop="image"/>
          <p class="site-author-name" itemprop="name">TeacherXue</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            <a href="/categories">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              </a>
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/TeacherXue" target="_blank">GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:xqq979699196@icloud.com" target="_blank">E-Mail</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/xqq979699196" target="_blank">Twitter</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/profile.php?id=100006456504816&ref=bookmarks" target="_blank">Facebook</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.instagram.com/sulabigzuba/" target="_blank">Instagram</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.jianshu.com/u/d283cbd05fbe" target="_blank">简书</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://weibo.com/huiyinxiaoqiang/profile?rightmod=1&wvr=6&mod=personinfo" target="_blank">Weibo</a>
              </span>
            
          
        </div>

        <div class="links-of-friendly motion-element">
          
        </div>

        
        

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Flutter开发"><span class="nav-number">1.</span> <span class="nav-text">Flutter开发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一-、-环境搭建"><span class="nav-number">1.0.1.</span> <span class="nav-text">一 、 环境搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#二-、-Dart语言下的Flutter"><span class="nav-number">1.0.2.</span> <span class="nav-text">二 、 Dart语言下的Flutter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三-、-Flutter-Widget"><span class="nav-number">1.0.3.</span> <span class="nav-text">三 、 Flutter Widget</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#四-、-Flutter布局"><span class="nav-number">1.0.4.</span> <span class="nav-text">四 、 Flutter布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#五-、Flutter-页面"><span class="nav-number">1.0.5.</span> <span class="nav-text">五 、Flutter 页面</span></a></li></ol></li></ol></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner"> <div class="copyright" >
  
  &copy; &nbsp; 
  <span itemprop="copyrightYear">2022
  </span>
  <span class="with-love">
    <i class="icon-next-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TeacherXue
  </span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme by <a class="theme-link" href="http://blog.idhyt.com">idhyt</a>.<a class="theme-link" href="https://github.com/idhyt/hexo-theme-next/tree/magiclamp">Mala</a>
</div>

<!-- busuanzi -->

  <div class="">
    <div class="theme-info">
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
    </script>
    <span id="busuanzi_container_site_pv">
        本站总访问量<a class="theme-link"><span id="busuanzi_value_site_pv"></span></a>次
    </span>
</div>
  </div>



 </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    
    

  


  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.1"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.1"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.5.1" id="motion.global"></script>




  <script type="text/javascript" src="/js/nav-toggle.js?v=0.4.5.1"></script>
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.1" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



  <script type="text/javascript">
    $(document).ready(function () {
      if (CONFIG.sidebar === 'always') {
        displaySidebar();
      }
      if (isMobile()) {
        FastClick.attach(document.body);
      }
    });
  </script>

  

  
  

  
  <script type="text/javascript" src="/js/lazyload.js"></script>
  <script type="text/javascript">
    $(function () {
      $("#posts").find('img').lazyload({
        placeholder: "/images/loading.gif",
        effect: "fadeIn"
      });
    });
  </script>
<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":"wanko","bottom":-30,"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/"});</script></body>
</html>
